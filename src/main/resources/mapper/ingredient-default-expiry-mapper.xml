<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ingredientDefaultExpiry">

    <!-- 식재료명으로 기본 유통기한 조회 -->
    <select id="getByName" parameterType="string" resultType="ingredientDefaultExpiry">
        SELECT
            ingredient_name as ingredientName,
            default_expiry_days as defaultExpiryDays,
            category_id as categoryId
        FROM ingredient_default_expiry
        WHERE ingredient_name = #{name}
    </select>

    <!-- 모든 기본 유통기한 정보 조회 -->
    <select id="getAll" resultType="ingredientDefaultExpiry">
        SELECT
            ingredient_name as ingredientName,
            default_expiry_days as defaultExpiryDays,
            category_id as categoryId
        FROM ingredient_default_expiry
        ORDER BY ingredient_name ASC
    </select>

    <!-- 기본 유통기한 정보 추가 -->
    <insert id="save" parameterType="ingredientDefaultExpiry">
        INSERT INTO ingredient_default_expiry(ingredient_name, default_expiry_days, category_id)
        VALUES (#{ingredientName}, #{defaultExpiryDays}, #{categoryId})
    </insert>

</mapper>
